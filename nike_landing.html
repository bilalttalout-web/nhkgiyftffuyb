<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BILAL - Wear Your Style</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Teko:wght@700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary-orange: #af3c0f;
            /* Precisely matched to the jacket image background */
            --glass-bg: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.15);
            --text-white: #ffffff;
            --text-nav: rgba(255, 255, 255, 0.7);
            --accent-light: #ff6a3d;
        }

        /* Category Themes */
        body.theme-men {
            --primary-orange: #0f3c6e;
            /* Cobalt Blue */
            --accent-light: #4ea8de;
        }

        body.theme-women {
            --primary-orange: #351c31;
            --accent-light: #d156b1;
        }

        body.theme-kids {
            --primary-orange: #009bc1;
            --accent-light: #5de6ff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
        }

        body {
            background-color: var(--primary-orange);
            transition: background-color 0.8s cubic-bezier(0.16, 1, 0.3, 1);
            font-family: 'Inter', sans-serif;
            color: var(--text-white);
            min-height: 100vh;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* Ambient Background Layers */
        .ambient-light {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            background:
                radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.05) 0%, transparent 40%),
                radial-gradient(circle at 20% 80%, rgba(0, 0, 0, 0.1) 0%, transparent 40%);
            z-index: 0;
            pointer-events: none;
        }

        /* Navigation */
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 4rem;
            z-index: 100;
            position: relative;
        }

        .logo svg {
            width: 80px;
            height: auto;
            fill: white;
            filter: drop-shadow(0 4px 10px rgba(0, 0, 0, 0.1));
            transition: transform 0.3s ease;
        }

        .logo:hover svg {
            transform: scale(1.05);
        }

        .nav-links {
            display: flex;
            gap: 3.5rem;
        }

        .nav-links a {
            color: var(--text-nav);
            text-decoration: none;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 2px;
            font-weight: 600;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
            padding: 0.5rem 0;
            cursor: pointer;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 1px;
            background: white;
            transition: width 0.4s ease;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: white;
        }

        .nav-links a:hover::after,
        .nav-links a.active::after {
            width: 100%;
        }

        .nav-icons {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-icons svg {
            cursor: pointer;
            opacity: 0.8;
            transition: transform 0.3s ease, opacity 0.3s ease;
            width: 24px;
            /* Assuming a standard icon size */
            height: 24px;
            /* Assuming a standard icon size */
            fill: white;
            /* Assuming icons are white */
        }

        .nav-icons svg:hover {
            opacity: 1;
            transform: scale(1.1);
        }

        /* Main Content */
        main {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        /* Typography */
        .hero-text-container {
            position: absolute;
            top: 50%;
            left: 10%;
            transform: translateY(-50%);
            width: 80%;
            z-index: 1;
            pointer-events: none;
        }

        .hero-title {
            font-family: 'Teko', sans-serif;
            font-size: clamp(8rem, 20vw, 22rem);
            line-height: 0.85;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.03);
            white-space: nowrap;
            letter-spacing: -2px;
            text-shadow:
                -1px -1px 0 rgba(255, 255, 255, 0.05),
                1px -1px 0 rgba(255, 255, 255, 0.05),
                -1px 1px 0 rgba(255, 255, 255, 0.05),
                1px 1px 0 rgba(255, 255, 255, 0.05);
            animation: textReveal 1.5s ease-out forwards;
            transition: opacity 0.5s ease;
        }

        @keyframes textReveal {
            from {
                opacity: 0;
                transform: translateY(20px);
                filter: blur(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
                filter: blur(0);
            }
        }

        /* Product Image */
        .product-visual {
            position: relative;
            z-index: 10;
            height: clamp(400px, 85vh, 900px);
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.1s ease-out;
        }

        .product-visual img {
            max-height: 100%;
            width: auto;
            object-fit: contain;
            filter: drop-shadow(0 30px 60px rgba(0, 0, 0, 0.4));
            animation: float 6s ease-in-out infinite;
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-20px);
            }
        }

        /* Interactive Elements - Glassmorphism */
        .product-info {
            position: absolute;
            right: 8%;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            max-width: 400px;
        }

        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            -webkit-backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 30px;
            padding: 2.5rem;
            color: white;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            animation: slideInRight 1.2s cubic-bezier(0.16, 1, 0.3, 1);
            transition: all 0.5s ease;
        }

        .product-price-tag {
            position: absolute;
            left: 8%;
            bottom: 10%;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 0.2rem;
            animation: slideInLeft 1.2s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 100;
        }

        .price-label {
            font-size: 0.75rem;
            letter-spacing: 3px;
            opacity: 0.6;
            text-transform: uppercase;
            font-weight: 700;
        }

        .price-value {
            font-size: 3.5rem;
            font-weight: 700;
            font-family: 'Teko', sans-serif;
            line-height: 1;
        }

        .size-selector {
            display: flex;
            gap: 1rem;
            margin: 2rem 0;
        }

        .size-btn {
            width: 45px;
            height: 45px;
            border-radius: 12px;
            border: 1px solid var(--glass-border);
            background: rgba(255, 255, 255, 0.05);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .size-btn:hover,
        .size-btn.active {
            background: white;
            color: var(--primary-orange);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-add-cart {
            margin-top: 1rem;
            width: 100%;
            padding: 1.2rem 2.5rem;
            background: white;
            color: #000;
            border: none;
            border-radius: 50px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .btn-add-cart:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            background: #f0f0f0;
        }

        .btn-add-cart:active {
            transform: scale(0.95);
        }

        .product-description {
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 1rem;
            opacity: 0.7;
            font-weight: 300;
        }

        .product-name {
            font-family: 'Teko', sans-serif;
            font-size: 4rem;
            line-height: 0.9;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: -1px;
        }

        /* Cart Feedback */
        .cart-notification {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: white;
            color: black;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            transform: translateY(-100px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .cart-notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Scroll Hint */
        .scroll-hint {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            opacity: 0.3;
            z-index: 100;
        }

        .mouse {
            width: 20px;
            height: 35px;
            border: 2px solid white;
            border-radius: 10px;
            position: relative;
        }

        .mouse::after {
            content: '';
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 6px;
            background: white;
            border-radius: 2px;
            animation: scroll 2s infinite;
        }

        @keyframes scroll {
            0% {
                transform: translate(-50%, 0);
                opacity: 1;
            }

            100% {
                transform: translate(-50%, 15px);
                opacity: 0;
            }
        }

        /* Animations */
        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateY(-50%) translateX(100px);
            }

            to {
                opacity: 1;
                transform: translateY(-50%) translateX(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-100px);
            }

            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Features Section */
        .features-section {
            padding: 8rem 4rem;
            position: relative;
            z-index: 2;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 3rem;
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.4s ease, background 0.4s ease, opacity 0.6s ease;
            opacity: 0;
            transform: translateY(30px);
        }

        .feature-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .feature-card:hover {
            transform: translateY(-10px);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .feature-number {
            font-family: 'Teko', sans-serif;
            font-size: 4rem;
            color: rgba(255, 255, 255, 0.1);
            margin-bottom: 1rem;
            line-height: 1;
        }

        .feature-title {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .feature-desc {
            font-size: 1rem;
            line-height: 1.6;
            opacity: 0.7;
            font-weight: 300;
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .hero-title {
                font-size: 15vw;
            }

            .product-info {
                right: 5%;
                padding: 1.5rem;
            }

            .product-name {
                font-size: 3rem;
            }
        }

        @media (max-width: 768px) {
            nav {
                padding: 1rem 2rem;
            }

            .nav-links {
                display: flex;
                gap: 1.5rem;
            }

            .hero-title {
                font-size: 20vw;
                top: 15%;
                left: 5%;
                transform: none;
            }

            .product-visual {
                height: 40vh;
                margin-top: 15%;
            }

            .product-visual img {
                max-width: 90%;
            }

            .product-info {
                position: relative;
                right: auto;
                top: auto;
                transform: none;
                margin: 2rem auto;
                width: 90%;
            }

            .product-price-tag {
                position: relative;
                left: auto;
                bottom: auto;
                margin: 0 auto;
                text-align: center;
                align-items: center;
            }

            main {
                flex-direction: column;
                overflow-y: auto;
                overflow-x: hidden;
            }

            body {
                overflow-y: auto;
                height: auto;
            }

            .scroll-hint {
                display: none !important;
                /* Force hide on mobile to prevent overlap */
            }

            #viewMoreBtn {
                bottom: 5%;
                /* Adjust for mobile */
                padding: 0.6rem 1.5rem;
                font-size: 0.8rem;
            }

            .features-section,
            #moreProductsSection {
                padding: 4rem 1.5rem !important;
                /* Adjust padding for mobile */
            }

            .cart-panel {
                width: 100%;
                max-width: 100%;
                /* Full width on mobile */
            }
        }

        /* Cart Overlay Styles */
        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            z-index: 2000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.4s ease;
            display: flex;
            justify-content: flex-end;
        }

        .cart-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .cart-panel {
            width: 100%;
            max-width: 450px;
            height: 100%;
            background: var(--glass-bg);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border-left: 1px solid var(--glass-border);
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            padding: 2rem;
            display: flex;
            flex-direction: column;
            box-shadow: -10px 0 30px rgba(0, 0, 0, 0.3);
        }

        .cart-overlay.active .cart-panel {
            transform: translateX(0);
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 1rem;
        }

        .cart-title {
            font-family: 'Teko', sans-serif;
            font-size: 2.5rem;
            text-transform: uppercase;
        }

        .close-cart {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .close-cart:hover {
            transform: rotate(90deg);
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .cart-item {
            display: flex;
            gap: 1rem;
            background: rgba(255, 255, 255, 0.05);
            padding: 1rem;
            border-radius: 15px;
            animation: slideInLeft 0.5s ease forwards;
        }

        .cart-item img {
            width: 80px;
            height: 80px;
            object-fit: contain;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 0.2rem;
        }

        .cart-item-price {
            font-family: 'Teko', sans-serif;
            font-size: 1.5rem;
            color: var(--accent-light);
        }

        .cart-item-size {
            font-size: 0.8rem;
            opacity: 0.6;
        }

        .cart-empty-msg {
            text-align: center;
            margin-top: 3rem;
            opacity: 0.5;
            font-size: 1.2rem;
        }

        .cart-footer {
            margin-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 1.5rem;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
            font-weight: 600;
        }

        .checkout-btn {
            width: 100%;
            padding: 1rem;
            background: white;
            color: black;
            border: none;
            border-radius: 50px;
            font-weight: 700;
            text-transform: uppercase;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .checkout-btn:hover {
            transform: scale(1.02);
            background: #f0f0f0;
        }

        /* Checkout Form Styles */
        .checkout-form {
            display: none;
            flex-direction: column;
            gap: 1rem;
            margin-top: 1rem;
            animation: slideInRight 0.4s ease;
        }

        .checkout-form h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            font-family: 'Teko', sans-serif;
            letter-spacing: 1px;
        }

        .checkout-input {
            width: 100%;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            color: white;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            outline: none;
            transition: all 0.3s ease;
        }

        .checkout-input:focus {
            border-color: white;
            background: rgba(255, 255, 255, 0.15);
        }

        .active-view {
            display: flex !important;
        }

        .hidden-view {
            display: none !important;
        }
    </style>
</head>

<body class="theme-men">
    <div class="ambient-light"></div>
    <div class="cart-notification" id="cartNotify">Added to Bag</div>

    <nav>
        <div class="logo">
            <h1
                style="font-family: 'Teko', sans-serif; font-size: 3rem; line-height: 1; letter-spacing: 2px; margin: 0; cursor: pointer;">
                BILAL</h1>
        </div>

        <div class="nav-links">
            <a class="cat-link active" data-cat="men">Men</a>
            <a class="cat-link" data-cat="women">Women</a>
            <a class="cat-link" data-cat="kids">Kids</a>
        </div>

        <div class="nav-icons" style="gap: 1.5rem;">
            <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
            <div style="position: relative; cursor: pointer;" id="cartIconBtn">
                <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <path d="M16 10a4 4 0 0 1-8 0"></path>
                </svg>
                <span id="cartCount"
                    style="position: absolute; top: -5px; right: -8px; background: var(--accent-light); color: white; font-size: 10px; width: 15px; height: 15px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; opacity: 0; transition: opacity 0.3s;">0</span>
            </div>
        </div>
    </nav>

    <main>
        <div class="hero-text-container">
            <h1 class="hero-title" id="bgTitle">WEAR YOUR<br>STYLE</h1>
        </div>

        <div class="product-visual">
            <img src="assets/orange_jacket.png" alt="Product Visual" id="productImg"
                style="filter: hue-rotate(200deg) saturate(1.2);">
        </div>

        <div class="product-price-tag glass-card">
            <span class="price-label" id="productLabel">Official Retail</span>
            <span class="price-value" id="productPrice">$249.99</span>
        </div>

        <div class="product-info glass-card">
            <h2 class="product-name" id="productName">NOCTA<br>Puffer Jacket</h2>
            <p class="product-description" id="productDesc">
                Engineered for the elements. The NOCTA Puffer features premium goose down fill and a water-repellent
                shell to keep you dry and warm in style.
            </p>

            <div class="size-selector">
                <div class="size-btn">S</div>
                <div class="size-btn active">M</div>
                <div class="size-btn">L</div>
                <div class="size-btn">XL</div>
            </div>

            <button class="btn-add-cart" id="addCartBtn">
                <span>Add to Bag</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </button>
        </div>

        <div class="scroll-hint" id="scrollHint">
            <div class="mouse"></div>
            <span style="font-size: 10px; text-transform: uppercase; letter-spacing: 2px;">Scroll to explore</span>
        </div>

        <button id="viewMoreBtn"
            style="position: absolute; bottom: 15%; left: 50%; transform: translateX(-50%); background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.3); color: white; padding: 0.8rem 2rem; border-radius: 30px; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; backdrop-filter: blur(5px); transition: all 0.3s; z-index: 10; display: flex; align-items: center; gap: 0.5rem; font-family: 'Inter', sans-serif; font-weight: 500;">
            View More
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M7 13l5 5 5-5M7 6l5 5 5-5" />
            </svg>
        </button>
    </main>

    <section class="features-section">
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-number">01</div>
                <h3 class="feature-title">Thermal Tech</h3>
                <p class="feature-desc">Advanced heat retention technology keeps you warm in the harshest conditions
                    without adding bulk. Engineered for maximum comfort.</p>
            </div>
            <div class="feature-card">
                <div class="feature-number">02</div>
                <h3 class="feature-title">Weather Resistant</h3>
                <p class="feature-desc">Hydrophobic outer shell repels water and wind, ensuring you stay dry and
                    comfortable all day, no matter the forecast.</p>
            </div>
            <div class="feature-card">
                <div class="feature-number">03</div>
                <h3 class="feature-title">Adaptive Fit</h3>
                <p class="feature-desc">Ergonomic design with adjustable components for a custom fit that moves with
                    your body, providing unrestricted freedom of movement.</p>
            </div>
        </div>
    </section>

    <!-- More Products Section (Hidden by default) -->
    <section id="moreProductsSection" style="padding: 4rem; display: none; background: rgba(0,0,0,0.2);">
        <h2
            style="font-family: 'Teko', sans-serif; font-size: 4rem; text-align: center; margin-bottom: 3rem; text-transform: uppercase;">
            Latest Drops</h2>
        <div class="features-grid" id="moreProductsGrid">
            <!-- Dynamic Content -->
        </div>
    </section>

    <div class="cart-overlay" id="cartOverlay">
        <div class="cart-panel">
            <div class="cart-header">
                <h2 class="cart-title">Your Bag</h2>
                <button class="close-cart" id="closeCartBtn">&times;</button>
            </div>

            <!-- Cart View -->
            <div id="cartView" style="display: flex; flex-direction: column; height: 100%; overflow: hidden;">
                <div class="cart-items" id="cartItemsContainer">
                    <p class="cart-empty-msg">Your bag is empty.</p>
                </div>
                <div class="cart-footer">
                    <div class="cart-total">
                        <span>Total</span>
                        <span id="cartTotalValue">$0.00</span>
                    </div>
                    <button class="checkout-btn" id="proceedCheckoutBtn">Proceed to Checkout</button>
                </div>
            </div>

            <!-- Checkout Form View -->
            <div class="checkout-form" id="checkoutForm">
                <h3>Contact Details</h3>
                <input type="text" id="custName" class="checkout-input" placeholder="Your Name" required>
                <input type="tel" id="custPhone" class="checkout-input" placeholder="Phone Number" required>

                <div style="margin-top: 1rem;">
                    <button class="checkout-btn" id="confirmOrderBtn"
                        style="background: #25D366; color: white; border: none;">
                        Confirm Order (WhatsApp)
                    </button>
                    <button class="checkout-btn" id="backToCartBtn"
                        style="background: transparent; border: 1px solid rgba(255,255,255,0.3); color: white; margin-top: 1rem;">
                        Back to Bag
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const products = {
            men: {
                name: "BILAL Cobalt<br>Tech Puffer",
                image: "assets/orange_jacket.png",
                price: "$249.99",
                label: "Special Edition",
                desc: "The classic puffer reimagined in deep cobalt. Featuring premium thermal insulation and a weather-resistant shell.",
                theme: "theme-men",
                bgText: "COBALT<br>EDITION",
                filter: "hue-rotate(200deg) saturate(1.2)"
            },
            women: {
                name: "Sportswear<br>Icon Puffer",
                image: "assets/woman_jacket.png",
                price: "$220.00",
                label: "Limited Edition",
                desc: "Form meets function in the Icon Puffer. A sleek, cropped silhouette meet high-loft warmth for an unmistakable presence.",
                theme: "theme-women",
                bgText: "LUXE<br>ELEVATED",
                filter: "none"
            },
            kids: {
                name: "BILAL Kids<br>Frost-Proof",
                image: "assets/kids_jacket.png",
                price: "$145.00",
                label: "Play Series",
                desc: "Built for the boldest adventurers. This ultra-durable puffer keeps them warm on the playground and cool on the street.",
                theme: "theme-kids",
                bgText: "FUTURE<br>PLAYERS",
                filter: "none"
            }
        };

        const body = document.body;
        const jacket = document.getElementById('productImg');
        const bgTitle = document.getElementById('bgTitle');
        const pName = document.getElementById('productName');
        const pPrice = document.getElementById('productPrice');
        const pLabel = document.getElementById('productLabel');
        const pDesc = document.getElementById('productDesc');
        const catLinks = document.querySelectorAll('.cat-link');
        const infoCard = document.querySelector('.product-info');
        const priceCard = document.querySelector('.product-price-tag');

        // Category Switching
        catLinks.forEach(link => {
            link.addEventListener('click', () => {
                const cat = link.getAttribute('data-cat');
                const p = products[cat];

                // Update UI with animations
                catLinks.forEach(l => l.classList.remove('active'));
                link.classList.add('active');

                // Fade out
                jacket.style.opacity = '0';
                jacket.style.transform = 'scale(0.8) translateY(20px)';
                bgTitle.style.opacity = '0';

                setTimeout(() => {
                    body.className = p.theme;
                    jacket.src = p.image;
                    jacket.style.filter = p.filter || 'none'; // Apply Filter
                    pName.innerHTML = p.name;
                    pPrice.innerText = p.price;
                    pLabel.innerText = p.label;
                    pDesc.innerText = p.desc;
                    bgTitle.innerHTML = p.bgText;

                    // Fade in
                    jacket.style.opacity = '1';
                    jacket.style.transform = 'scale(1) translateY(0)';
                    bgTitle.style.opacity = '1';
                }, 400);
            });
        });

        // Parallax Interaction
        document.addEventListener('mousemove', (e) => {
            const x = (window.innerWidth / 2 - e.pageX) / 30;
            const y = (window.innerHeight / 2 - e.pageY) / 30;

            jacket.style.transform = `translateX(${-x}px) translateY(${-y}px)`;
            bgTitle.style.transform = `translateX(${x * 1.5}px) translateY(${y * 1.5}px)`;

            infoCard.style.transform = `translateY(-50%) rotateY(${-x / 2}deg) rotateX(${y / 2}deg)`;
            priceCard.style.transform = `rotateY(${-x / 3}deg) rotateX(${y / 3}deg)`;
        });

        // Size selector interaction
        const sizeBtns = document.querySelectorAll('.size-btn');
        sizeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                sizeBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
            });
        });

        // Cart Logic Variables
        const addCartBtn = document.getElementById('addCartBtn');
        const notify = document.getElementById('cartNotify');
        const cartOverlay = document.getElementById('cartOverlay');
        const closeCartBtn = document.getElementById('closeCartBtn');
        const cartIconBtn = document.getElementById('cartIconBtn');
        const cartItemsContainer = document.getElementById('cartItemsContainer');
        const cartTotalValue = document.getElementById('cartTotalValue');
        const cartCountBadge = document.getElementById('cartCount');

        // Checkout & Views
        const cartView = document.getElementById('cartView');
        const checkoutForm = document.getElementById('checkoutForm');
        const proceedCheckoutBtn = document.getElementById('proceedCheckoutBtn');
        const backToCartBtn = document.getElementById('backToCartBtn');
        const confirmOrderBtn = document.getElementById('confirmOrderBtn');
        const custNameInput = document.getElementById('custName');
        const custPhoneInput = document.getElementById('custPhone');

        let cart = [];

        // Current product state
        let currentProduct = products['men']; // Default start
        let currentSize = 'M'; // Default size

        // Update current product helper
        function updateCurrentProduct(cat) {
            currentProduct = products[cat];
        }

        // Feature: Category Switching State Update
        catLinks.forEach(link => {
            link.addEventListener('click', () => {
                const cat = link.getAttribute('data-cat');
                updateCurrentProduct(cat);

                // Reset size on cat switch if desired, keeping M for now.
                // UI updates are handled in the existing listener above
            });
        });

        // Feature: Size Selection State Update
        sizeBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                currentSize = btn.innerText;
            });
        });

        // Feature: Cart Toggle
        cartIconBtn.addEventListener('click', () => {
            cartOverlay.classList.add('active');
        });

        closeCartBtn.addEventListener('click', () => {
            cartOverlay.classList.remove('active');
        });

        // Feature: Add to Cart
        addCartBtn.addEventListener('click', () => {
            // Add Item to State
            cart.push({
                ...currentProduct,
                size: currentSize,
                id: Date.now() // Simple unique ID
            });

            // Update UI
            updateCartUI();

            // Show Notification
            notify.classList.add('show');
            addCartBtn.querySelector('span').innerText = 'Added';

            setTimeout(() => {
                notify.classList.remove('show');
                addCartBtn.querySelector('span').innerText = 'Add to Bag';
            }, 2000);

            // Auto-open bag briefly or just badge update? 
            // Let's auto-open for better "Enter bag" experience
            setTimeout(() => {
                cartOverlay.classList.add('active');
            }, 500);
        });

        function updateCartUI() {
            // Update Badge
            cartCountBadge.innerText = cart.length;
            cartCountBadge.style.opacity = cart.length > 0 ? '1' : '0';

            // Check Empty
            if (cart.length === 0) {
                cartItemsContainer.innerHTML = '<p class="cart-empty-msg">Your bag is empty.</p>';
                cartTotalValue.innerText = '$0.00';
                return;
            }

            // Render Items
            cartItemsContainer.innerHTML = '';
            let total = 0;

            cart.forEach(item => {
                // Parse price
                let priceRaw = item.price.replace('$', '');
                let priceNum = parseFloat(priceRaw);
                total += priceNum;

                const itemHTML = `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.name}">
                        <div class="cart-item-details">
                            <div class="cart-item-name">${item.name.replace('<br>', ' ')}</div>
                            <div class="cart-item-price">${item.price}</div>
                            <div class="cart-item-size">Size: ${item.size}</div>
                        </div>
                    </div>
                `;
                cartItemsContainer.innerHTML += itemHTML;
            });

            // Update Total
            cartTotalValue.innerText = '$' + total.toFixed(2);
        }

        // ----------------- CHECKOUT LOGIC ----------------- //

        // Switch to Checkout View
        proceedCheckoutBtn.addEventListener('click', () => {
            if (cart.length === 0) return;
            cartView.style.display = 'none';
            checkoutForm.style.display = 'flex';
        });

        // Back to Cart View
        backToCartBtn.addEventListener('click', () => {
            checkoutForm.style.display = 'none';
            cartView.style.display = 'flex';
        });

        // WhatsApp Integration
        confirmOrderBtn.addEventListener('click', () => {
            const name = custNameInput.value.trim();
            const phone = custPhoneInput.value.trim();

            if (!name || !phone) {
                alert("Please fill in your Name and Phone Number.");
                return;
            }

            // Build Message
            let message = `*HELLO BILAL!* ðŸ‘‹\nI would like to place a new order:\n\n*Customer Details:*\nðŸ‘¤ Name: ${name}\nðŸ“± Phone: ${phone}\n\n*Order Items:*\n`;

            let total = 0;
            cart.forEach(item => {
                let priceNum = parseFloat(item.price.replace('$', ''));
                total += priceNum;
                message += `âž– ${item.name.replace('<br>', ' ')} (${item.size}) - ${item.price}\n`;
            });

            message += `\nðŸ’° *TOTAL AMOUNT: $${total.toFixed(2)}*`;

            // WhatsApp API Link (Using 212 Morocco code based on context 07...)
            const phoneNumber = "212706542416";
            const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;



            window.open(url, '_blank');
        });

        // ----------------- VIEW MORE LOGIC ----------------- //
        const viewMoreBtn = document.getElementById('viewMoreBtn');
        const moreProductsSection = document.getElementById('moreProductsSection');
        const moreProductsGrid = document.getElementById('moreProductsGrid');
        const scrollHint = document.getElementById('scrollHint');

        // Extra Products Data (Reusing images due to generation limit)
        const extraProducts = [
            {
                id: 'xp1',
                name: "BILAL Forest Fleece",
                category: "men",
                price: "$180.00",
                image: "assets/orange_jacket.png",
                desc: "Premium tech fleece in limited forest green.",
                filter: "hue-rotate(90deg) brightness(0.8)"
            },
            {
                id: 'xp2',
                name: "BILAL Crimson Runner",
                category: "men",
                price: "$160.00",
                image: "assets/orange_jacket.png",
                desc: "High performance gear in bold crimson.",
                filter: "hue-rotate(0deg) saturate(1.5) contrast(1.1)"
            },
            {
                id: 'xp3',
                name: "BILAL Void Edition",
                category: "men",
                price: "$200.00",
                image: "assets/orange_jacket.png",
                desc: "Stealth black edition for night runners.",
                filter: "grayscale(1) brightness(0.6)"
            },
            {
                id: 'xp4',
                name: "Womens Lavender Set",
                category: "women",
                price: "$120.00",
                image: "assets/woman_jacket.png",
                desc: "Seamless comfort in soft lavender.",
                filter: "hue-rotate(40deg) saturate(0.8)"
            },
            {
                id: 'xp5',
                name: "Kids Racer Green",
                category: "kids",
                price: "$85.00",
                image: "assets/kids_jacket.png",
                desc: "Speed and durability for the playground.",
                filter: "hue-rotate(80deg)"
            },
            {
                id: 'xp6',
                name: "Kids Parka Red",
                category: "kids",
                price: "$110.00",
                image: "assets/kids_jacket.png",
                desc: "Warmth with a pop of cherry red.",
                filter: "hue-rotate(150deg)"
            }
        ];

        viewMoreBtn.addEventListener('click', () => {
            moreProductsSection.style.display = 'block';
            scrollHint.style.display = 'none'; // Hide scroll hint
            viewMoreBtn.style.display = 'none'; // Hide button after click

            // Populate Grid
            moreProductsGrid.innerHTML = '';
            extraProducts.forEach(prod => {
                const card = document.createElement('div');
                card.className = 'feature-card visible';
                card.style.opacity = '1';
                card.style.transform = 'translateY(0)';
                card.innerHTML = `
                    <div style="height: 200px; display: flex; justify-content: center; align-items: center; margin-bottom: 1rem;">
                        <img src="${prod.image}" style="max-height: 100%; max-width: 100%; object-fit: contain; filter: drop-shadow(0 10px 20px rgba(0,0,0,0.3)) ${prod.filter || ''};">
                    </div>
                    <h3 class="feature-title" style="font-size: 1.2rem;">${prod.name}</h3>
                    <p class="feature-desc" style="font-size: 0.9rem; margin-bottom: 1rem;">${prod.desc}</p>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <span style="font-family: 'Teko'; font-size: 1.5rem; font-weight: 700;">${prod.price}</span>
                        <button onclick="addExtraToCart('${prod.id}')" style="background: white; color: black; border: none; padding: 0.5rem 1rem; border-radius: 20px; font-weight: 700; cursor: pointer;">ADD</button>
                    </div>
                `;
                moreProductsGrid.appendChild(card);
            });

            // Smooth scroll to section
            moreProductsSection.scrollIntoView({ behavior: 'smooth' });
        });

        // Global function for adding extra items (needs to be on window to work with template literal onclick)
        window.addExtraToCart = function (id) {
            const prod = extraProducts.find(p => p.id === id);
            if (prod) {
                cart.push({
                    name: prod.name,
                    price: prod.price,
                    image: prod.image,
                    size: 'M', // Default size for quick add
                    id: Date.now()
                });

                updateCartUI();

                // Show Notification
                notify.classList.add('show');
                setTimeout(() => {
                    notify.classList.remove('show');
                }, 2000);
            }
        };

        // Feature Observer
        const observerOptions = {
            threshold: 0.15
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.feature-card').forEach((el, index) => {
            el.style.transitionDelay = `${index * 150}ms`;
            observer.observe(el);
        });
    </script>
</body>

</html>